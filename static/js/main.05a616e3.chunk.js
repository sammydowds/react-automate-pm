(this.webpackJsonpautomate_project_management=this.webpackJsonpautomate_project_management||[]).push([[0],{145:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),o=(a(93),a(94),a(9)),s=a(10),i=a(12),m=a(11),u=(a(95),a(30)),p=a(146),d=a(147),h=a(148),E=a(149),f=a(150),j=a(151),g=a(152),v=(a(96),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isNavOpen:!1},n.toggleNav=n.toggleNav.bind(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{className:"navbar-style",fixed:"top",expand:"lg"},r.a.createElement(d.a,{className:"navbar-style"},r.a.createElement("img",{src:"assets/images/profile.png",height:"55",width:"55",alt:""}),"Projectile"),r.a.createElement(h.a,{onClick:this.toggleNav}),r.a.createElement(E.a,{isOpen:this.state.isNavOpen,navbar:!0},r.a.createElement(f.a,{className:"mr-auto",navbar:!0}),r.a.createElement(j.a,null,r.a.createElement(g.a,{outline:!0},"Log In")))))}}]),a}(n.Component)),b=a(167),O=a(155),w=a(156),N=a(25),k=a.n(N),y=a(154),P=a(157),C=a(158),x=a(159),M=a(160),S=a(161),L=a(153),D=function(){return r.a.createElement("div",{className:"mt-5 h-100 text-center align-middle"},r.a.createElement(L.a,{style:{width:"3rem",height:"3rem"},color:"#000839"}))},z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"renderPhases",value:function(e){var t=e.map((function(e){var t=k()(e.end);return r.a.createElement("span",{className:"px-1"},r.a.createElement(y.a,{color:"dark"},e.name," ",t.fromNow()))}));return r.a.createElement("span",null,t)}},{key:"renderProj",value:function(e){var t=this,a=e.map((function(e){var a=e.status,n=e.phases.filter((function(e){return e.active})),l=t.renderPhases(n);return r.a.createElement("span",null,r.a.createElement("p",{style:{fontweight:"superbold"}},r.a.createElement("span",{className:"pr-2"},r.a.createElement("svg",{class:"bi bi-box-seam",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5 8 5.961 14.154 3.5l-2.404-.961zm3.25 1.7l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"})),"\xa0",r.a.createElement("a",{className:"project-link",onClick:function(){t.props.handleProjectClicked(e)}},e.name),"\xa0",r.a.createElement("a",{href:"#",className:"project-link text-right"},r.a.createElement("svg",{class:"bi bi-clipboard",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"grey",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M4 1.5H3a2 2 0 00-2 2V14a2 2 0 002 2h10a2 2 0 002-2V3.5a2 2 0 00-2-2h-1v1h1a1 1 0 011 1V14a1 1 0 01-1 1H3a1 1 0 01-1-1V3.5a1 1 0 011-1h1v-1z","clip-rule":"evenodd"}),r.a.createElement("path",{"fill-rule":"evenodd",d:"M9.5 1h-3a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5zm-3-1A1.5 1.5 0 005 1.5v1A1.5 1.5 0 006.5 4h3A1.5 1.5 0 0011 2.5v-1A1.5 1.5 0 009.5 0h-3z","clip-rule":"evenodd"}))),a?r.a.createElement("span",{className:"align-middle"}):r.a.createElement("span",null,r.a.createElement(y.a,{className:"off-badge ml-1"},"Off Track"))),r.a.createElement("p",{className:"badge-subtext"},"WIP:",l)))}));return r.a.createElement("span",null,a)}},{key:"render",value:function(){return this.props.projectsLoading?r.a.createElement(D,null):r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(P.a,{className:"mt-3 text-center card-border"},r.a.createElement(C.a,{className:"text-left"},r.a.createElement(x.a,{className:"pl-2"},r.a.createElement("h4",{lead:!0},"Open Projects")),r.a.createElement(M.a,{className:"pl-2"},r.a.createElement("hr",null)),r.a.createElement(S.a,{className:"pt-2 pl-4 font-weight-bold"},this.renderProj(this.props.projects))))))}}]),a}(n.Component),A=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"renderProj",value:function(e){var t=this,a=e.map((function(e){e.status;return r.a.createElement("span",null,r.a.createElement("p",{style:{fontweight:"superbold",fontSize:"12px"}},r.a.createElement("span",null,r.a.createElement("svg",{class:"bi bi-flag-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"#ffa41b",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M3.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z"}),r.a.createElement("path",{"fill-rule":"evenodd",d:"M3.762 2.558C4.735 1.909 5.348 1.5 6.5 1.5c.653 0 1.139.325 1.495.562l.032.022c.391.26.646.416.973.416.168 0 .356-.042.587-.126a8.89 8.89 0 0 0 .593-.25c.058-.027.117-.053.18-.08.57-.255 1.278-.544 2.14-.544a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5c-.638 0-1.18.21-1.734.457l-.159.07c-.22.1-.453.205-.678.287A2.719 2.719 0 0 1 9 9.5c-.653 0-1.139-.325-1.495-.562l-.032-.022c-.391-.26-.646-.416-.973-.416-.833 0-1.218.246-2.223.916A.5.5 0 0 1 3.5 9V3a.5.5 0 0 1 .223-.416l.04-.026z"})),"\xa0",r.a.createElement("a",{className:"project-link",onClick:function(){t.props.handleProjectClicked(e)}},e.name))))}));return r.a.createElement("span",null,a)}},{key:"render",value:function(){if(this.props.projectsLoading)return r.a.createElement(D,null);var e=this.props.projects.filter((function(e){return 0==e.status}));return r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(P.a,{className:"mt-3 card-border"},r.a.createElement(C.a,null,r.a.createElement(x.a,{className:"pl-2 normal-text"},r.a.createElement("h6",{lead:!0},"Off Track Projects ",r.a.createElement(y.a,{className:"off-badge"},e.length))),r.a.createElement(M.a,null,r.a.createElement("hr",null)),r.a.createElement(S.a,{className:"font-weight-bold text-left pl-2"},this.renderProj(e))))))}}]),a}(n.Component),T=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"renderProj",value:function(e){var t=this,a=e.map((function(e){e.status;return r.a.createElement("span",null,r.a.createElement("p",{style:{fontweight:"superbold",fontSize:"12px"}},r.a.createElement("span",null,r.a.createElement("svg",{class:"bi bi-flag-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"#000839",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M3.5 1a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5z"}),r.a.createElement("path",{"fill-rule":"evenodd",d:"M3.762 2.558C4.735 1.909 5.348 1.5 6.5 1.5c.653 0 1.139.325 1.495.562l.032.022c.391.26.646.416.973.416.168 0 .356-.042.587-.126a8.89 8.89 0 0 0 .593-.25c.058-.027.117-.053.18-.08.57-.255 1.278-.544 2.14-.544a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5c-.638 0-1.18.21-1.734.457l-.159.07c-.22.1-.453.205-.678.287A2.719 2.719 0 0 1 9 9.5c-.653 0-1.139-.325-1.495-.562l-.032-.022c-.391-.26-.646-.416-.973-.416-.833 0-1.218.246-2.223.916A.5.5 0 0 1 3.5 9V3a.5.5 0 0 1 .223-.416l.04-.026z"})),"\xa0",r.a.createElement("a",{className:"project-link",onClick:function(){t.props.handleProjectClicked(e)}},e.name))))}));return r.a.createElement("span",null,a)}},{key:"render",value:function(){if(this.props.projectsLoading)return r.a.createElement(D,null);var e=this.props.projects.filter((function(e){return k()(e.lastupdated,"YYYY-MM-DD")>k()().subtract(7,"days")}));return r.a.createElement(O.a,null,r.a.createElement(w.a,null,r.a.createElement(P.a,{className:"mt-3 card-border"},r.a.createElement(C.a,null,r.a.createElement(x.a,{className:"pl-2 normal-text"},r.a.createElement("h6",{lead:!0},"Recently Updated ",r.a.createElement(y.a,{className:"off-badge"},e.length))),r.a.createElement(M.a,null,r.a.createElement("hr",null)),r.a.createElement(S.a,{className:"font-weight-bold text-left pl-2"},this.renderProj(e))))))}}]),a}(n.Component),Y=a(168),V=a(162),R=a(163),_=a(164),I=a(83),J=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isModalOpen:!1},n.toggleModal=n.toggleModal.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"toggleModal",value:function(){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"handleSubmit",value:function(e){this.toggleModal(),this.props.updateProject(this.props.project.id,e.name,e.description,e.phases,e.company,e.complete,e.status)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal},r.a.createElement(V.a,{toggle:this.toggleModal},"Update ",this.props.project.name),r.a.createElement(R.a,null,r.a.createElement(I.LocalForm,{onSubmit:function(t){return e.handleSubmit(t)}}))),r.a.createElement(g.a,{outline:!0,className:"secondary",onClick:this.toggleModal},"Update"))}}]),a}(n.Component);function B(e){var t=e.phase,a=k()(t.end,"YYYY-MM-DD"),n=k()(t.start,"YYYY-MM-DD");return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},t.active?r.a.createElement("span",{className:"text-danger font-weight-light"}," ",r.a.createElement(y.a,{color:"warning"}," WIP ")):r.a.createElement("div",null)),r.a.createElement("td",null,t.name),r.a.createElement("td",null,n.month(),"/",n.day()," (",n.format("ddd"),")"),r.a.createElement("td",null,a.month(),"/",a.day()," (",a.format("ddd"),")"),r.a.createElement("td",null,a.fromNow()),r.a.createElement("td",null,a.diff(n,"days"))))}var F=function(e){if(e.projectsLoading)return r.a.createElement(D,null);console.log("PROPS"),console.log(e);var t=e.project.phases.map((function(e){return r.a.createElement(B,{phase:e})}));return r.a.createElement("div",null,r.a.createElement(P.a,{className:"my-3 card-border"},r.a.createElement(C.a,{className:"text-left"},r.a.createElement(x.a,{className:"pl-2"},r.a.createElement("h3",{lead:!0},e.project.name,"\xa0",e.project.status?r.a.createElement("span",{className:"align-middle"}):r.a.createElement("span",null,r.a.createElement(y.a,{className:"off-badge ml-1"},"Off Track")),"\xa0",r.a.createElement(g.a,{size:"sm",className:"align-end",outline:!0,color:"dark",onClick:function(){e.handleCloseDetails()}},"Close Details")),r.a.createElement("hr",null)),r.a.createElement(M.a,{className:"mb-2 lead text-center"},"Project Phases"),r.a.createElement(S.a,{className:"pl-3 pb-3"},r.a.createElement(_.a,{size:"sm",className:"text-center",hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Phase"),r.a.createElement("th",null,"Start"),r.a.createElement("th",null,"End"),r.a.createElement("th",null,"Relative End"),r.a.createElement("th",null,"Duration (Days)"))),r.a.createElement("tbody",null,t))),r.a.createElement("div",{className:"text-right"},r.a.createElement(J,{project:e.project,updateProject:e.updateProject})))))},H=a(165),U=a(166),W=function(e){return r.a.createElement(P.a,{className:"mt-3 font-weight-bold card-border"},r.a.createElement(H.a,{vertical:!0,className:"text-center w-100",flush:!0},r.a.createElement(U.a,{className:"text-center",tag:"button",action:!0},r.a.createElement("div",null,r.a.createElement("svg",{class:"bi bi-plus-circle",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd",d:"M8 3.5a.5.5 0 01.5.5v4a.5.5 0 01-.5.5H4a.5.5 0 010-1h3.5V4a.5.5 0 01.5-.5z","clip-rule":"evenodd"}),r.a.createElement("path",{"fill-rule":"evenodd",d:"M7.5 8a.5.5 0 01.5-.5h4a.5.5 0 010 1H8.5V12a.5.5 0 01-1 0V8z","clip-rule":"evenodd"}),r.a.createElement("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 108 1a7 7 0 000 14zm0 1A8 8 0 108 0a8 8 0 000 16z","clip-rule":"evenodd"})),"\xa0 Add Project")),r.a.createElement(U.a,{tag:"button",className:"text-center",action:!0},"All Projects ",r.a.createElement(y.a,null," ",e.numProjects," ")),r.a.createElement(U.a,{tag:"button",className:"text-center",action:!0},"Learn"),r.a.createElement(U.a,{tag:"button",className:"text-center",action:!0},"My Profile")))},G=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleProjectClicked=function(e){n.setState({projectClicked:!0,projectSelected:e})},n.handleCloseDetails=function(){n.setState({projectClicked:!1,projectSelected:null})},n.state={projectClicked:!1,projectSelected:null},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(b.a,{className:"container-spacing",fluid:!0},r.a.createElement(O.a,{className:"h-100 justify-content-center"},r.a.createElement(w.a,{lg:"2"},r.a.createElement(W,{numProjects:this.props.projects.projects.length}),r.a.createElement(A,{projects:this.props.projects.projects,projectsLoading:this.props.projects.isLoading,handleProjectClicked:this.handleProjectClicked}),r.a.createElement(T,{projects:this.props.projects.projects,projectsLoading:this.props.projects.isLoading,handleProjectClicked:this.handleProjectClicked})),r.a.createElement(w.a,{lg:"4"},r.a.createElement(z,{projects:this.props.projects.projects,projectsLoading:this.props.projects.isLoading,handleProjectClicked:this.handleProjectClicked})),r.a.createElement(w.a,{lg:"6"},this.state.projectClicked?r.a.createElement(F,{project:this.state.projectSelected,handleCloseDetails:this.handleCloseDetails,updateProject:this.props.updateProject}):r.a.createElement("div",null))))}}]),a}(n.Component),$=a(26),q=a(20),K="http://localhost:3001/",Q=function(){return{type:"PROJECTS_LOADING"}},X=function(e){return{type:"PROJECTS_FAILED",payload:e}},Z=function(e){return{type:"ADD_PROJECTS",payload:e}},ee=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log("Main component mounted"),this.props.fetchProjects()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-container"},r.a.createElement(v,null),r.a.createElement($.c,null,r.a.createElement($.a,{path:"/home",component:function(){return r.a.createElement(G,{projects:e.props.projects,projectsLoading:e.props.projects.isLoading,updateProject:e.props.updateProject})}})))}}]),a}(n.Component),te=Object($.f)(Object(q.connect)((function(e){return{projects:e.projects}}),(function(e){return{fetchProjects:function(){e((function(e){return e(Q(!0)),fetch(K+"projects").then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(Z(t))})).catch((function(t){return e(X(t.message))}))}))},updateProject:function(t,a,n,r,l,c,o){e(function(e,t,a,n,r,l,c){return function(o){var s={id:e,name:t,description:a,phases:n,company:r,complete:l,status:c};return s.lastupdated=(new Date).toISOString(),fetch(K+"projects",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(e){return o(Z(e))})).catch((function(e){console.log("Update project ",e.message),alert("Your updates could not be posted\nError: "+e.message)}))}}(t,a,n,r,l,c,o))}}}))(ee)),ae=a(29),ne=a(21),re=a(31),le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,projects:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PROJECTS":return Object(re.a)(Object(re.a)({},e),{},{isLoading:!1,errMess:null,projects:t.payload});case"PROJECTS_LOADING":return Object(re.a)(Object(re.a)({},e),{},{isLoading:!0,errMess:null,projects:[]});case"PROJECTS_FAILED":return Object(re.a)(Object(re.a)({},e),{},{isLoading:!1,errMess:t.payload,projects:[]});default:return e}},ce=a(86),oe=a(87),se=a.n(oe),ie=Object(ne.createStore)(Object(ne.combineReducers)({projects:le}),Object(ne.applyMiddleware)(ce.a,se.a)),me=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(q.Provider,{store:ie},r.a.createElement(ae.a,null,r.a.createElement(te,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a(145)},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){e.exports=a.p+"static/media/default.e142c50f.svg"}},[[88,1,2]]]);
//# sourceMappingURL=main.05a616e3.chunk.js.map